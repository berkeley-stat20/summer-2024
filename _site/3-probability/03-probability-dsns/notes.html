<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Stat 20 - Probability Distributions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-WP7F4QKDC8"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-WP7F4QKDC8', { 'anonymize_ip': true});
</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
<meta property="og:title" content="Stat 20 - Probability Distributions">
<meta property="og:description" content="Some special distributions and visualizing probabilities">
<meta property="og:image" content="https://stat20.berkeley.edu/summer-2024/3-probability/03-probability-dsns/images/die-emp-prob-dsn.jpg">
<meta property="og:site_name" content="Stat 20">
<meta name="twitter:title" content="Stat 20 - Probability Distributions">
<meta name="twitter:description" content="Some special distributions and visualizing probabilities">
<meta name="twitter:image" content="https://stat20.berkeley.edu/summer-2024/3-probability/03-probability-dsns/images/die-emp-prob-dsn.jpg">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-sm " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../assets/stat20-hex-small.png" alt="Stat 20 logo" class="navbar-logo"></a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../office-hours.html"> 
<span class="menu-text">Office Hours</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../notes.html"> 
<span class="menu-text">Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../assignments.html"> 
<span class="menu-text">Assignments</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools tools-wide">
    <a href="https://edstem.org/us/courses/51198" title="" class="quarto-navigation-tool px-1" aria-label="Ed Discussion Forum"><i class="bi bi-chat-fill"></i></a>
    <a href="https://www.gradescope.com/courses/693050" title="" class="quarto-navigation-tool px-1" aria-label="Gradescope"><i class="bi bi-bar-chart-fill"></i></a>
    <a href="https://stat20.datahub.berkeley.edu/" title="" class="quarto-navigation-tool px-1" aria-label="RStudio"><i class="bi bi-r-circle-fill"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#probability-distributions-and-histograms" id="toc-probability-distributions-and-histograms" class="nav-link active" data-scroll-target="#probability-distributions-and-histograms">Probability distributions and histograms</a>
  <ul class="collapse">
<li><a href="#probability-distributions" id="toc-probability-distributions" class="nav-link" data-scroll-target="#probability-distributions">Probability distributions</a></li>
  <li><a href="#probability-histograms" id="toc-probability-histograms" class="nav-link" data-scroll-target="#probability-histograms">Probability histograms</a></li>
  <li><a href="#empirical-histograms" id="toc-empirical-histograms" class="nav-link" data-scroll-target="#empirical-histograms">Empirical histograms</a></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples">Examples</a></li>
  </ul>
</li>
  <li>
<a href="#basic-rule-of-counting" id="toc-basic-rule-of-counting" class="nav-link" data-scroll-target="#basic-rule-of-counting">Basic rule of counting</a>
  <ul class="collapse">
<li><a href="#counting-the-number-of-ways-to-select-a-subset" id="toc-counting-the-number-of-ways-to-select-a-subset" class="nav-link" data-scroll-target="#counting-the-number-of-ways-to-select-a-subset">Counting the number of ways to select a subset</a></li>
  </ul>
</li>
  <li>
<a href="#special-distributions" id="toc-special-distributions" class="nav-link" data-scroll-target="#special-distributions">Special distributions</a>
  <ul class="collapse">
<li><a href="#discrete-uniform-distribution" id="toc-discrete-uniform-distribution" class="nav-link" data-scroll-target="#discrete-uniform-distribution">Discrete uniform distribution</a></li>
  <li><a href="#bernoulli-distribution" id="toc-bernoulli-distribution" class="nav-link" data-scroll-target="#bernoulli-distribution">Bernoulli distribution</a></li>
  <li><a href="#binomial-distribution" id="toc-binomial-distribution" class="nav-link" data-scroll-target="#binomial-distribution">Binomial Distribution</a></li>
  <li><a href="#hypergeometric-distribution" id="toc-hypergeometric-distribution" class="nav-link" data-scroll-target="#hypergeometric-distribution">Hypergeometric distribution</a></li>
  <li><a href="#binomial-vs-hypergeometric-distributions" id="toc-binomial-vs-hypergeometric-distributions" class="nav-link" data-scroll-target="#binomial-vs-hypergeometric-distributions">Binomial vs Hypergeometric distributions</a></li>
  </ul>
</li>
  <li>
<a href="#the-ideas-in-code" id="toc-the-ideas-in-code" class="nav-link" data-scroll-target="#the-ideas-in-code">The Ideas in Code</a>
  <ul class="collapse">
<li><a href="#three-useful-functions" id="toc-three-useful-functions" class="nav-link" data-scroll-target="#three-useful-functions">Three useful functions</a></li>
  <li><a href="#example-rolling-a-die-twice-and-summing-the-spots" id="toc-example-rolling-a-die-twice-and-summing-the-spots" class="nav-link" data-scroll-target="#example-rolling-a-die-twice-and-summing-the-spots">Example: Rolling a die twice and summing the spots</a></li>
  <li><a href="#visualizing-our-results" id="toc-visualizing-our-results" class="nav-link" data-scroll-target="#visualizing-our-results">Visualizing our results</a></li>
  </ul>
</li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="notes.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">Probability Distributions</h1>
<p class="subtitle lead">Some special distributions and visualizing probabilities</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p><span class="dropcap">S</span>o far we have seen examples of outcome spaces, and descriptions of how we might compute probabilities, along with tabular representations of the probabilities. In this set of notes, we are going to talk about how to visualize probabilities using tables and histograms, as well as how to visualize simulations of outcomes from actions such as tossing coins or rolling dice.</p>
<section id="probability-distributions-and-histograms" class="level2"><h2 class="anchored" data-anchor-id="probability-distributions-and-histograms">Probability distributions and histograms</h2>
<section id="probability-distributions" class="level3"><h3 class="anchored" data-anchor-id="probability-distributions">Probability distributions</h3>
<p>Recall the example in which we drew a ticket from a box with 5 tickets in it:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/box.jpeg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="200"></p>
</figure>
</div>
<p>If we draw one ticket at random from this box, we know that the probabilities of the four distinct outcomes can be listed in a table as:</p>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;"><strong>Outcome</strong></th>
<th style="text-align: center;"><span class="math inline">\(1\)</span></th>
<th style="text-align: center;"><span class="math inline">\(2\)</span></th>
<th style="text-align: center;"><span class="math inline">\(3\)</span></th>
<th style="text-align: center;"><span class="math inline">\(4\)</span></th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: center;"><strong>Probability</strong></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{1}{5}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{2}{5}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{1}{5}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{1}{5}\)</span></td>
</tr></tbody>
</table>
<p>What we have described in the table above is a <strong>probability distribution</strong>. We have shown how the total probability of one or 100% is <em>distributed</em> among all the possible outcomes. Since the ticket <span class="math inline">\(\fbox{2}\)</span> is twice as likely as any of the other outcomes, it gets twice as much of the probability.</p>
</section><section id="probability-histograms" class="level3"><h3 class="anchored" data-anchor-id="probability-histograms">Probability histograms</h3>
<p>A table is nice, but a visual representation would be even better.</p>
<!--
How might we visualize this distribution? One way might be to represent the outcomes along the $x$-axis, and the probabilities as vertical lines:




::: {.cell layout-align="center"}
::: {.cell-output-display}
![](notes_files/figure-html/unnamed-chunk-2-1.png){fig-align='center' width=384}
:::
:::

-->
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="notes_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="384"></p>
</figure>
</div>
</div>
</div>
<p>We have represented the distribution in the form of a histogram, with the areas of the bars representing probabilities. Notice that this histogram is different from the ones we have seen before, since we didn’t collect any data. We just defined the probabilities based on the outcomes, and then drew bars with the heights being the probabilities. This type of <em>theoretical</em> histogram is called a <strong><em>probability histogram</em></strong>.</p>
</section><section id="empirical-histograms" class="level3"><h3 class="anchored" data-anchor-id="empirical-histograms">Empirical histograms</h3>
<p>What about if we <em>don’t</em> know the probability distribution of the outcomes of an experiment? For example, what if we didn’t know how to compute the probability distribution above? What could we do to get an idea of what the probabilities might be? Well, we could keep drawing tickets over and over again from the box, <em>with replacement</em> (that is, we put the selected tickets back before choosing again), keep track of the tickets we draw, and make a histogram of our results. This kind of histogram, which is the kind we have seen before, is a visual representation of <em>data</em>, and is called an <strong>empirical histogram.</strong></p>
<!--
We could do this for any of examples that we have seen - die rolls, coin tosses etc. What about if we *don't* know the probability distribution of the outcomes of an experiment? For example, what if we didn't know how to compute the probability distribution above? What could we do to get an idea of what the probabilities might be? Well, we could keep drawing tickets over and over again from the box, __with__ replacement (that is, we put the selected tickets back before choosing again), keep track of the tickets we draw, and make a bar graph. This kind of histogram, which is the kind we have seen before, is a visual representation of *data*, and is called an __*empirical*__ histogram, representing an *empirical* distribution of the values.
-->
<!--
You see two plots below: the top (purple) figure is a bar graph showing the distribution of the tickets in the box, and the bottom (golden) is the probability histogram for the value of a randomly drawn ticket.



::: {.cell layout-align="center"}
::: {.cell-output-display}
![](notes_files/figure-html/unnamed-chunk-4-1.png){fig-align='center' width=576}
:::
:::


Notice that the only difference between these two plots is the vertical scale. When the tickets are equally likely, the box distribution (the purple plot) completely determines the probability distribution (the golden plot).

Now, how would we figure out the probabilities (shown in the golden plot) using simulation?
-->
<!--
Since the tickets are drawn according to their chance, we could compute what a draw would be, on average, by computing a weighted (by their chance) average of the possible values. We would get, for a single draw: $1\times \frac{1}{5} + 2 \times \frac{2}{5} + 3 \times \frac{1}{5} + 4 \times \frac{1}{5} = 2.4$. (Note that this exactly matches the average of the tickets in the box $= \displaystyle \frac{1 + 2 + 2 + 3 + 4}{5}$). 
-->
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="notes_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="384"></p>
</figure>
</div>
</div>
</div>
<p>On the x-axis of this histogram, we have the ticket values; on the y-axis, we have the proportion of times that this ticket was selected out of the 50 with-replacement draws we took.We can see that the sample proportions looks similar to the values given by the probability distribution, but there are some differences. For example, we appear to have drawn more <span class="math inline">\(3\)</span>s and less <span class="math inline">\(4\)</span>s than what was to be expected. It turns out that the counts and proportions of the drawn tickets are:</p>
<center>
<div style="width:300px">
<table class="table">
<thead><tr class="header">
<th style="text-align: center;">Ticket</th>
<th style="text-align: center;">Number of times drawn</th>
<th style="text-align: center;">Proportion of times drawn</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\fbox{1}\)</span></td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">0.2</td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\fbox{2}\)</span></td>
<td style="text-align: center;">24</td>
<td style="text-align: center;">0.48</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\fbox{3}\)</span></td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">0.2</td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\fbox{4}\)</span></td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">0.12</td>
</tr>
</tbody>
</table>
</div>
</center>
<p>What we have seen here is how when we draw at random, we get a sample that resembles the population, that is, a <em>representative sample</em>, but it isn’t <em>exactly</em> the true probabilities. If we increase our sample, however, say to 500, we will get something that more closely aligns with the truth.</p>
</section><section id="examples" class="level3"><h3 class="anchored" data-anchor-id="examples">Examples</h3>
<!--
### Tossing a coin

Let's think about the probabilities when we toss a coin. If we toss a *fair* coin once, we have two equally likely outcomes that are possible, "Heads" and "Tails", each of which are equally likely. In order to plot a histogram, we need to record each toss that lands heads as $1$ and each toss that lands tails as $0$. This is like drawing a ticket from a box that has two tickets marked $0$ and $1$.

What if the coin is not fair, and the chance of landing heads is $2/3$ or even $3/4$. In these cases, the histogram's bar over $1$ has to reflect this probability. Since the area of the bar is the probability, if the width was $1$, the height of the bar over $1$ would be $3/4$. Here are three probability histograms, one for a fair coin, and the other two for biased coins. 

![](images/prob-hist-coin-toss.png){fig-align=center width="600px"}

Suppose we wanted to represent tossing a __biased__ coin by drawing tickets from a box. What box would we use? For example, if the probability of the coin landing heads is $3/4$, and we wanted to represent this by drawing from a box of tickets marked $\fbox{0}$ or $\fbox{1}$, then we would need *three* tickets marked $\fbox{1}$, and one ticket marked $\fbox{0}$. What about if the probability of the coin landing heads was $2/3$? What tickets would the corresponding box contain? What about if the probability of the coin landing heads was $0.3$?

<details> <summary> Check your answer </summary>
1. If the probability of heads is $2/3$, then we need the probability of drawing a $\fbox{1}$ to be $2/3$, so we would need two tickets marked $\fbox{1}$ and one marked $\fbox{0}$. 

2. If the probability of the coin landing heads is $0.3$, then we need three out of ten tickets in the box to be marked $\fbox{1}$ and the other seven to be $\fbox{0}$.

</details>
-->
<section id="rolling-a-pair-of-dice-and-summing-the-spots" class="level4"><h4 class="anchored" data-anchor-id="rolling-a-pair-of-dice-and-summing-the-spots">Rolling a pair of dice and summing the spots</h4>
<p>The outcomes are already numbers, so we don’t need to represent them differently. We know that there are <span class="math inline">\(36\)</span> total possible equally likely outcomes when we roll a pair of dice, but when we add the spots, we have only 11 possible outcomes, which are <strong>not</strong> equally likely (the chance of seeing a <span class="math inline">\(2\)</span> is <span class="math inline">\(1/36\)</span>, but <span class="math inline">\(P(6)=5/36\)</span>).</p>
<p>The probability histogram will have the possible outcomes listed on the x-axis, and bars of width <span class="math inline">\(1\)</span> over each possible outcome. The height of these bars will be the probability, so that the areas of the bars represent the probability of the value under the bar. The height, which is the probability, is written on the top of each bar.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/prob-hist-sum-dice.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></p>
</figure>
</div>
<p>What about the probability distribution? Make a table showing the probability distribution for rolling a pair of dice and summing the spots.</p>
<details><summary>
Check your answer
</summary><table class="table">
<colgroup>
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;"><strong>Outcome</strong></th>
<th style="text-align: center;"><span class="math inline">\(2\)</span></th>
<th style="text-align: center;"><span class="math inline">\(3\)</span></th>
<th style="text-align: center;"><span class="math inline">\(4\)</span></th>
<th style="text-align: center;"><span class="math inline">\(5\)</span></th>
<th style="text-align: center;"><span class="math inline">\(6\)</span></th>
<th style="text-align: center;"><span class="math inline">\(7\)</span></th>
<th style="text-align: center;"><span class="math inline">\(8\)</span></th>
<th style="text-align: center;"><span class="math inline">\(9\)</span></th>
<th style="text-align: center;"><span class="math inline">\(10\)</span></th>
<th style="text-align: center;"><span class="math inline">\(11\)</span></th>
<th style="text-align: center;"><span class="math inline">\(12\)</span></th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: center;"><strong>Probability</strong></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{1}{36}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{2}{36}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{3}{36}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{4}{36}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{5}{36}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{6}{36}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle\frac{5}{36}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{4}{36}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{3}{36}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{2}{36}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{1}{36}\)</span></td>
</tr></tbody>
</table></details></section><section id="tossing-a-fair-coin-3-times-and-counting-the-number-of-heads" class="level4"><h4 class="anchored" data-anchor-id="tossing-a-fair-coin-3-times-and-counting-the-number-of-heads">Tossing a fair coin 3 times and counting the number of heads</h4>
<p>We have seen that there are 8 equally likely outcomes from tossing a fair coin three times: <span class="math inline">\(\{HHH, HHT, HTH, THH, TTH, THT, HTT, TTT\}\)</span>. If we count the number of <span class="math inline">\(H\)</span> in each outcome, and write down the probability distribution of the number of heads, we get:</p>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;"><strong>Outcome</strong></th>
<th style="text-align: center;"><span class="math inline">\(0\)</span></th>
<th style="text-align: center;"><span class="math inline">\(1\)</span></th>
<th style="text-align: center;"><span class="math inline">\(2\)</span></th>
<th style="text-align: center;"><span class="math inline">\(3\)</span></th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: center;"><strong>Probability</strong></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{1}{8}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{3}{8}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{3}{8}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle \frac{1}{8}\)</span></td>
</tr></tbody>
</table>
<p>What would the probability histogram look like?</p>
<details><summary>
Check your answer
</summary><div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/prob-hist-3-tosses.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="300"></p>
</figure>
</div>
</details><p>We are going to introduce some special distributions. We have seen most of these distributions, but will introduce some names and definitions. Before we do this, let’s recall how to count the number of outcomes for various experiments such as tossing coins or drawing tickets from a box (both with and without replacement).</p>
</section></section></section><section id="basic-rule-of-counting" class="level2"><h2 class="anchored" data-anchor-id="basic-rule-of-counting">Basic rule of counting</h2>
<p>Recall that if we have multiple steps (say <span class="math inline">\(n\)</span>) of some action, such that the <span class="math inline">\(j^{\text{th}}\)</span> step has <span class="math inline">\(k_j\)</span> outcomes; then the total number of outcomes is <span class="math inline">\(k_1 \times k_2 \times \ldots k_n\)</span> and is obtained by multiplying the number of outcomes at each step. This principle is illustrated in the picture below: Geni the Gentoo penguin<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> is trying to count how many outfits they have, if each outfit consists of a t-shirt and a pair of pants. The tree diagram below shows the number of possible outfits Geni can wear. In this example, <span class="math inline">\(n=2\)</span>, <span class="math inline">\(k_1 = 3\)</span>, and <span class="math inline">\(k_2 = 2\)</span>, since Geni has three t-shirts to choose from, and for each t-shirt, they have two pairs of pants, leading to a total of <span class="math inline">\(3 \times 2 = 6\)</span> outfits.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/geni-clothes.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="400"></p>
</figure>
</div>
<p>This example seems trivial, but it illustrates the basic principle of counting: we get the total number of possible outcomes of an action that has multiple steps, by multiplying together the number of outcomes for each step. All the counting that follows in our notes applies this rule. For example, let’s suppose we are drawing tickets from a box which has tickets marked with the letters <span class="math inline">\(\fbox{C}\)</span>, <span class="math inline">\(\fbox{R}\)</span>, <span class="math inline">\(\fbox{A}\)</span>, <span class="math inline">\(\fbox{T}\)</span>, <span class="math inline">\(\fbox{E}\)</span>, and say we draw <strong>three</strong> letters <em>with</em> replacement (that means that we put each drawn ticket back, so the box is the same for each draw). How many possible sequences of three letters can we get? Using the counting rule,since we have <span class="math inline">\(5\)</span> choices for the first letter, <span class="math inline">\(5\)</span> for the second, and <span class="math inline">\(5\)</span> for the third, we will have a total of <span class="math inline">\(5\times 5 \times 5 = 125\)</span> possible words, allowing for repeated letters (that means that <span class="math inline">\(CCC\)</span> is a possible outcome).</p>
<p>How many possible words are there if we draw <strong>without</strong> replacement? That is, we <em>don’t</em> put the drawn ticket back?</p>
<details><summary>
Check your answer
</summary><p>We have <span class="math inline">\(5\)</span> choices for the first letter, <span class="math inline">\(4\)</span> for the second, and <span class="math inline">\(3\)</span> for the third, leading to <span class="math inline">\(5 \times 4 \times 3 = 60\)</span> possible outcomes or words. Note that here we count the word <span class="math inline">\(CRA\)</span> as <em>different</em> from the word <span class="math inline">\(CAR\)</span>. That is, the order in which we draw the letters matters.</p>
<p>We usually write the quantity <span class="math inline">\(5 \times 4 \times 3\)</span> as <span class="math inline">\(\displaystyle \frac{5!}{2!}\)</span> where <span class="math inline">\(n! = n\times(n-1)\times(n-2)\times \ldots \times 3 \times 2 \times 1\)</span></p>
</details><section id="counting-the-number-of-ways-to-select-a-subset" class="level3"><h3 class="anchored" data-anchor-id="counting-the-number-of-ways-to-select-a-subset">Counting the number of ways to select a subset</h3>
<p>What if, in this example of selecting <span class="math inline">\(3\)</span> letters without replacement from <span class="math inline">\(\fbox{C}\)</span>, <span class="math inline">\(\fbox{R}\)</span>, <span class="math inline">\(\fbox{A}\)</span>, <span class="math inline">\(\fbox{T}\)</span>, <span class="math inline">\(\fbox{E}\)</span>, the order does <em>not</em> matter - we don’t count the order in which the letters , just <em>which</em> letters were selected, that is, only the letters themselves matter. For example, the words <span class="math inline">\(CRA,\,CAR,\,ARC,\,ACR,\,RAC,\,RCA\)</span> all count as the <em>same</em> word, so we will count all <span class="math inline">\(6\)</span> words as the <em>same subset</em> of letters. We have to take the number that we got from earlier and divide it by the number of words that can be made from <span class="math inline">\(3\)</span> letters (number of rearrangements), which is <span class="math inline">\(3 \times 2\times 1\)</span>. This gives us the number of ways that we can <strong><em>choose</em></strong> <span class="math inline">\(3\)</span> letters out of <span class="math inline">\(5\)</span>, which is <span class="math display">\[
\frac{\left(5!/2!\right)}{3!} = \frac{5!}{2!\; 3!},
\]</span></p>
<p>and is called the number of <strong><em>combinations</em></strong> of <span class="math inline">\(5\)</span> things taken <span class="math inline">\(3\)</span> at a time.</p>
<p>To recap: when we draw <span class="math inline">\(k\)</span> items from <span class="math inline">\(n\)</span> items <em>without</em> replacement, we have two cases: either we care in what order we draw the <span class="math inline">\(k\)</span> items and the different arrangements of the <em>same</em> set of <span class="math inline">\(k\)</span> items have to be counted separately. The number of such arrangements is called the <em>permutations</em> of <span class="math inline">\(n\)</span> things taken <span class="math inline">\(k\)</span> at a time. In the example above, we have <span class="math inline">\(5 \times 4\times 3 = 60\)</span> ways of choosing <span class="math inline">\(3\)</span> things out of <span class="math inline">\(5\)</span> when we count every sequence as different.</p>
<div class="def">
<dl>
<dt><strong>Permutations</strong></dt>
<dd>
The number of possible arrangements or sequences of <span class="math inline">\(n\)</span> things taken <span class="math inline">\(k\)</span> at a time which is given by (the ordering matters): <span class="math display">\[
\frac{n!}{(n-k)!}
\]</span>
</dd>
</dl>
</div>
<div class="def">
<dl>
<dt><strong>Combinations</strong></dt>
<dd>
Number of ways to choose a <strong>subset</strong> of <span class="math inline">\(k\)</span> things out of <span class="math inline">\(n\)</span> possible things which is given by <span class="math display">\[
\frac{n!}{k!\; (n-k)!}
\]</span> This number is just the number of distinct arrangements or permutations of <span class="math inline">\(n\)</span> things taken <span class="math inline">\(k\)</span> at a time divided by the number of arrangements of <span class="math inline">\(k\)</span> things. It is denoted by <span class="math inline">\(\displaystyle \binom{n}{k}\)</span>, which is read as “<em>n choose k</em>”.
</dd>
</dl>
</div>
<p><strong>Example</strong> How many ways can I deal <span class="math inline">\(5\)</span> cards from a standard deck of 52 cards?</p>
<details><summary>
Check your answer
</summary><p>When we deal cards, order does not matter, so this number is <span class="math inline">\(\displaystyle \binom{52}{5} = \frac{52!}{(52-5)!5!} = 2,598,960\)</span>.</p>
</details></section></section><section id="special-distributions" class="level2"><h2 class="anchored" data-anchor-id="special-distributions">Special distributions</h2>
<p>There are some important <em>special</em> distributions that every student of probability must know. Here are a few, and we will learn some more later in the course. We have already seen most of these distributions. All we are doing now is identifying their names. First, we need a vocabulary term:</p>
<div class="def">
<dl>
<dt><strong>Parameter of a probability distribution</strong></dt>
<dd>
A constant(s) number associated with the distribution. If you know the parameters of a probability distribution, then you can compute the probabilities of all the possible outcomes.
</dd>
</dl>
</div>
<p>Each of the distributions we will cover below has a parameter(s) associated with it.</p>
<section id="discrete-uniform-distribution" class="level3"><h3 class="anchored" data-anchor-id="discrete-uniform-distribution">Discrete uniform distribution</h3>
<p>This is the probability distribution over the numbers <span class="math inline">\(1, 2, 3 \ldots, n\)</span>. We have seen it for dice above. This probability distribution is called the <em>discrete uniform probability distribution</em>, since each possible outcome has the same probability, that is, <span class="math inline">\(1/n\)</span>. We call <span class="math inline">\(n\)</span> the <em>parameter</em> of the discrete uniform distribution.</p>
</section><section id="bernoulli-distribution" class="level3"><h3 class="anchored" data-anchor-id="bernoulli-distribution">Bernoulli distribution</h3>
<p>This is a probability distribution describing the probabilities associated with binary outcomes that result from <em>one</em> action, such as <em>one</em> coin toss that can either land Heads or Tails. We can represent the action as drawing <em>one</em> ticket from a box with tickets marked <span class="math inline">\(\fbox{1}\)</span> or <span class="math inline">\(\fbox{0}\)</span>, where the probability of <span class="math inline">\(\fbox{1}\)</span> is <span class="math inline">\(p\)</span>, and therefore, the probability of <span class="math inline">\(\fbox{0}\)</span> is <span class="math inline">\((1-p)\)</span>. We have already seen some examples of probability histograms for this distribution. We usually think of the possible outcomes of a Bernoulli distribution as <em>success</em> and <em>failure</em>, and represent a success by <span class="math inline">\(\fbox{1}\)</span> and a failure by <span class="math inline">\(\fbox{0}\)</span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/prob-hist-coin-toss.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="400"></p>
</figure>
</div>
<p>For the Bernoulli distribution, our parameter is <span class="math inline">\(p = P\left(\fbox{1}\right)\)</span>. If we know <span class="math inline">\(p\)</span>, we also know the probability of drawing a ticket marked <span class="math inline">\(\fbox{0}\)</span>.</p>
<p>In the figure above, the first histogram is for a Bernoulli distribution with parameter <span class="math inline">\(p = 1/2\)</span>, the second <span class="math inline">\(p=3/4\)</span>, and the third has <span class="math inline">\(p = 2/3\)</span>.</p>
</section><section id="binomial-distribution" class="level3"><h3 class="anchored" data-anchor-id="binomial-distribution">Binomial Distribution</h3>
<p>The binomial distribution, which describes the <em>total</em> number of successes in a sequence of <span class="math inline">\(n\)</span> independent Bernoulli trials, is one of the most important probability distributions. For example, consider the outcomes from tossing a coin <span class="math inline">\(n\)</span> times and counting the total number of heads across all <span class="math inline">\(n\)</span> tosses, where the probability of heads on each toss is <span class="math inline">\(p\)</span>. Each toss is one Bernoulli trial, where a success would be the coin landing heads. The binomial distribution describes the probabilities of the total number of heads in three tosses. We saw what this distribution looks like in the case where <span class="math inline">\(n = 3\)</span> for three tosses of a fair coin.</p>
<p>What would the probability distribution and histogram for the number of heads in three tosses of a biased coin like, where <span class="math inline">\(P(H) = 2/3\)</span>? Make sure you know how the probabilities are computed. For example, <span class="math inline">\(P(HHH) = (2/3)^3 = 8/27\)</span>.</p>
<details><summary>
Check your answer
</summary><div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/biased-coin-3-tosses.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></p>
</figure>
</div>
<p>Note that the outcomes <span class="math inline">\(HHT, HTH, THH\)</span> all have the same probability, as do the outcomes <span class="math inline">\(TTH, THT, HTT\)</span>, since the probability only depends on how many heads and how many tails we see in three tosses, not the order in which we see them. We get the probability of 2 heads in 3 tosses by adding the probabilities of all three outcomes <span class="math inline">\(HHT, HTH, THH\)</span>, since they are mutually exclusive. (In three tosses, we can see exactly <em>one</em> of the possible 8 sequences listed above.)</p>
</details><p>More generally, suppose that we have <span class="math inline">\(n\)</span> <em>independent</em> trials, where each trial can either result in a “success” (like drawing a ticket marked <span class="math inline">\(\fbox{1}\)</span>) with probability <span class="math inline">\(p\)</span>; or a “failure” (like drawing <span class="math inline">\(\fbox{0}\)</span>) with probability <span class="math inline">\(1-p\)</span>. In the case of the Bernoulli distribution, <span class="math inline">\(n = 1\)</span>.</p>
<p>The multiplication rule for independent events tells us how to compute the probability of a sequence that consisted of the first <span class="math inline">\(k\)</span> trials being successes and the rest of the <span class="math inline">\(n-k\)</span> trials being failures. The probability of this <em>particular</em> sequence of <span class="math inline">\(k\)</span> successes followed by <span class="math inline">\(n-k\)</span> failures is (by multiplying their probabilities) given by: <span class="math display">\[
p^k \times (1-p)^{n-k}
\]</span> Now this is the probability of <em>one</em> particular sequence: <span class="math inline">\(SSS\ldots SSFF \ldots FFF\)</span>, but as we saw in the example above, only the <em>number</em> of successes and failures matter, not the particular order. So <em>every</em> sequence of <span class="math inline">\(n\)</span> trials in which we have <span class="math inline">\(k\)</span> successes and <span class="math inline">\(n-k\)</span> failures has the same probability.</p>
<p>How many such sequences are there? We can count them using our rules above. We have <span class="math inline">\(n\)</span> spots in the sequence, of which <span class="math inline">\(k\)</span> have to be successes. The number of such sequences of length <span class="math inline">\(n\)</span> consisting of <span class="math inline">\(k\)</span> <span class="math inline">\(S\)</span>’s and <span class="math inline">\(n-k\)</span> <span class="math inline">\(F\)</span>’s) is given by <span class="math inline">\(\displaystyle \binom{n}{k}\)</span>. Each such sequence has probability <span class="math inline">\(\displaystyle p^k \times (1-p)^{n-k}\)</span>. Adding up all these <span class="math inline">\(\displaystyle \binom{n}{k}\)</span> probabilities (of each such sequence) gives us the formula for the <strong>probability of <span class="math inline">\(k\)</span> successes in <span class="math inline">\(n\)</span> trials</strong>: <span class="math display">\[
\binom{n}{k} \times p^k \times (1-p)^{n-k}
\]</span></p>
<p>The probability distribution described by the above formula is called the <strong>binomial distribution</strong>. It is named after <span class="math inline">\(\displaystyle \binom{n}{k}\)</span>, which is called the <em>binomial coefficient.</em> The binomial distribution has <em>two</em> parameters: the number of trials <span class="math inline">\(n\)</span> and the probability of success on each trial, <span class="math inline">\(p\)</span>.</p>
<section id="example" class="level4"><h4 class="anchored" data-anchor-id="example">Example</h4>
<p>Toss a weighted coin, where <span class="math inline">\(P(\text{heads}) = .7\)</span> five times. What is the probability that you see exactly four heads across these five tosses?</p>
<details><summary>
Check your answer
</summary><p>Across five trials, we need to see four heads and one tails. Since each toss is independent, one possible way to obtain what we are looking for is <span class="math inline">\(HHHHT\)</span>. This is given by</p>
<p><span class="math display">\[
(.7)^4 \times (.3)^1
\]</span></p>
<p>However, we need to consider all the possible orderings of tosses that involve four heads and one tail. This is given by the binomial coefficient <span class="math inline">\(\binom{5}{4}\)</span>. Our final probability is therefore:</p>
<span class="math display">\[
\binom{5}{4} (.7)^4 \times (.3)^1 \approx 0.36
\]</span>
</details></section></section><section id="hypergeometric-distribution" class="level3"><h3 class="anchored" data-anchor-id="hypergeometric-distribution">Hypergeometric distribution</h3>
<p>In the binomial scenario described above, we had <span class="math inline">\(n\)</span> <strong>independent</strong> trials, where each trial resulted in a success or a failure. This is like sampling <strong>with</strong> replacement from a box of <span class="math inline">\(0\)</span>’s and <span class="math inline">\(1\)</span>’s. Now consider the situation when we have a box with <span class="math inline">\(N\)</span> tickets marked with either <span class="math inline">\(\fbox{0}\)</span> or <span class="math inline">\(\fbox{1}\)</span>.</p>
<p>As usual, the ticket marked <span class="math inline">\(\fbox{1}\)</span> represents a success. Say the box has <span class="math inline">\(G\)</span> tickets marked <span class="math inline">\(\fbox{1}\)</span> (and therefore <span class="math inline">\(N-G\)</span> tickets marked <span class="math inline">\(\fbox{0}\)</span> representing failures). Suppose we draw a <em>simple random sample</em> of size <span class="math inline">\(n\)</span> from this box. A simple random sample is a sample drawn without replacement, and on each draw, every ticket is equally likely to be selected from among the remaining tickets. Then, the probability of drawing a ticket marked <span class="math inline">\(\fbox{1}\)</span> <em>changes</em> from draw to draw.</p>
<p>What is the probability that we will have <em>exactly</em> <span class="math inline">\(k\)</span> successes among these <span class="math inline">\(n\)</span> draws? The probability distribution that gives us this answer is given by</p>
<p><span class="math display">\[
\frac{\binom{G}{k}\times \binom{N-G}{n-k}}{\binom{N}{n}}
\]</span></p>
<p>and is called the <strong>hypergeometric distribution</strong>. It has <em>three</em> parameters, <span class="math inline">\(n\)</span>, <span class="math inline">\(N\)</span> and <span class="math inline">\(G\)</span>. This is a wacky formula, so let’s explain it piece by piece, starting with the numerator and then moving to the denominator!</p>
<section id="numerator" class="level4"><h4 class="anchored" data-anchor-id="numerator">Numerator</h4>
<p>We count the <em>number of samples drawn without replacement that have <span class="math inline">\(k\)</span> tickets marked <span class="math inline">\(\fbox{1}\)</span>.</em> Since there are <span class="math inline">\(G\)</span> tickets marked <span class="math inline">\(\fbox{1}\)</span> in the box, and <span class="math inline">\(\displaystyle \binom{G}{k}\)</span> ways to choose exactly <span class="math inline">\(k\)</span> of them. Similarly, there are <span class="math inline">\(N-G\)</span> tickets marked <span class="math inline">\(\fbox{0}\)</span> in the box, and <span class="math inline">\(\displaystyle \binom{N-G}{n-k}\)</span> ways to choose exactly <span class="math inline">\(n-k\)</span> of them. The total number of ways to have <span class="math inline">\(k\)</span> <span class="math inline">\(\fbox{1}\)</span>s and <span class="math inline">\(n-k\)</span> <span class="math inline">\(\fbox{0}\)</span>s is therefore (by multiplication):</p>
<p><span class="math display">\[
\binom{G}{k}\times \binom{N-G}{n-k}
\]</span></p>
</section><section id="denominator" class="level4"><h4 class="anchored" data-anchor-id="denominator">Denominator</h4>
<p>We count the <em>total number of simple random samples of size <span class="math inline">\(n\)</span> that can be drawn from a pool of <span class="math inline">\(N\)</span> observations</em>. This is given by <span class="math inline">\(\displaystyle \binom{N}{n}\)</span>.</p>
</section><section id="example-1" class="level4"><h4 class="anchored" data-anchor-id="example-1">Example</h4>
<p>Say we have a box of <span class="math inline">\(10\)</span> tickets consisting of <span class="math inline">\(4\)</span> tickets marked <span class="math inline">\(\fbox{0}\)</span> and <span class="math inline">\(6\)</span> tickets marked <span class="math inline">\(\fbox{1}\)</span>, and draw a simple random sample of size <span class="math inline">\(3\)</span> from this box.</p>
<p>What is the probability that <em>two</em> of the tickets drawn are marked <span class="math inline">\(\fbox{1}\)</span>?</p>
<details><summary>
Check your answer
</summary><p>We draw <span class="math inline">\(3\)</span> tickets <strong>without</strong> replacement. We need two of these tickets to be marked <span class="math inline">\(\fbox{1}\)</span> and there are six in total to choose from; we need one of them to be marked <span class="math inline">\(\fbox{0}\)</span> and there are four in total to choose from. Therefore, there are</p>
<p><span class="math display">\[
\binom{6}{2}\times \binom{4}{1} = 60
\]</span> different ways to pick three tickets in this manner.</p>
<p>How many <em>total</em> ways are there to draw <span class="math inline">\(n=3\)</span> tickets from a box of <span class="math inline">\(N=10\)</span>? This is given by <span class="math inline">\(\binom{10}{3} = 120\)</span>.</p>
<p>Therefore, our final answer is given by</p>
<p><span class="math display">\[
\frac{\binom{6}{2}\times \binom{4}{1}}{\binom{10}{3}} = \frac{60}{120} =  \frac{1}{2}
\]</span></p>
</details></section></section><section id="binomial-vs-hypergeometric-distributions" class="level3"><h3 class="anchored" data-anchor-id="binomial-vs-hypergeometric-distributions">Binomial vs Hypergeometric distributions</h3>
<p>Both these distributions deal with:</p>
<ul>
<li><p>a <em>fixed</em> number of trials, or instances of the random experiment;</p></li>
<li><p>outcomes that are deemed either successes or failures.</p></li>
</ul>
<p>The difference is that for a binomial random variable, the probability of a success stays the <em>same</em> for each trial, and for a hypergeometric random variable, the probability <em>changes</em> with each trial.</p>
<!--
If we use a box of tickets to describe these random variables, both distributions can be modeled by sampling from boxes with each ticket marked with $0$ or $1$, but for the binomial distribution, we sample $n$ times *with* replacement and count the number of successes; and for the hypergeometric distribution, we sample $n$ times *without* replacement, and count the number of successes in our sample.
-->
</section></section><section id="the-ideas-in-code" class="level2"><h2 class="anchored" data-anchor-id="the-ideas-in-code">The Ideas in Code</h2>
<p>Before discussing how to simulate the distributions, we are going to introduce three more useful functions.</p>
<section id="three-useful-functions" class="level3"><h3 class="anchored" data-anchor-id="three-useful-functions">Three useful functions</h3>
<section id="rep-replicates-values-in-a-vector" class="level4"><h4 class="anchored" data-anchor-id="rep-replicates-values-in-a-vector">1. <code>rep()</code>: replicates values in a vector</h4>
<p>Sometimes we need to create vectors with repeated values. In these cases, <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code> is very useful.</p>
<ul>
<li>
<strong>Arguments</strong>
<ul>
<li>
<code>x</code>: the vector or list that is to be repeated. This <em>must</em> be specified</li>
<li>
<code>times</code>: the number of times we should repeat the elements of <code>x</code>. This could be a vector the same length as <code>x</code> detailing how many times each element is to be repeated, or it could be a single number, in which case the entire <code>x</code> is repeated that many times.</li>
<li>
<code>each</code>: the default is 1, and if specified, each element of <code>x</code> is repeated <code>each</code> times.</li>
</ul>
</li>
</ul>
<!--
**Example: Rolling a pair of dice and summing the spots**

Suppose we want to represent the rolling of a pair of dice and summing the spots using a box with appropriately marked tickets. We could create a vector that has each possible value.

::: {.cell}

```{.r .cell-code  code-fold="false"}
sum_dice <- seq(from = 2, by = 1, to = 12)
sum_dice
```

::: {.cell-output .cell-output-stdout}

```
 [1]  2  3  4  5  6  7  8  9 10 11 12
```


:::
:::

 
The problem with the vector `sum_dice` is that the probabilities are not represented correctly. For example, there is only one way to get a sum of $2$, but $6$ ways to get $7$. If we want to represent this action of rolling a pair of dice and taking the sum of spots, we have to use a box in which values will be repeated to reflect their probability. How would you use `rep()` to create a vector representing a box with $36$ tickets, each representing a possible sum, and with the tickets repeated so the probabilities are correct. For example, since the sum $7$ can be obtained in $6$ ways (by rolling a $1$ and a $6$ or a $6$ and a $1$; a $2$ and a $5$ or a $5$ and a $2$ and so on), we need __six__ tickets marked $7$, so that the chance of drawing a $7$ is $6/36$.

<details> <summary> Check your answer </summary>

::: {.cell}

```{.r .cell-code  code-fold="false"}
sum_dice <- seq(from = 2, by = 1, to = 12)

sum_dice_1 <- rep(sum_dice, 
                  times = c(1,2, 3, 4, 5, 6, 5, 4, 3, 2, 1))
sum_dice_1
```

::: {.cell-output .cell-output-stdout}

```
 [1]  2  3  3  4  4  4  5  5  5  5  6  6  6  6  6  7  7  7  7  7  7  8  8  8  8
[26]  8  9  9  9  9 10 10 10 11 11 12
```


:::
:::

</details>
--></section><section id="replicate-repeat-a-specific-set-of-tasks-a-large-number-of-times." class="level4"><h4 class="anchored" data-anchor-id="replicate-repeat-a-specific-set-of-tasks-a-large-number-of-times.">2. <code>replicate()</code>: repeat a specific set of tasks a large number of times.</h4>
<ul>
<li>
<strong>Arguments</strong>
<ul>
<li>
<code>n</code>: the number of times we want to repeat the task. This <em>must</em> be specified</li>
<li>
<code>expr</code>: the task we want to repeat, usually an expression that is some combinations of functions, for example, maybe we take a sample from a vector, and then sum the sample values.</li>
</ul>
</li>
</ul>
<!---
**Example: Rolling a pair of dice and summing the spots**    
  
Let's simulate rolling a pair of dice and summing the spots using `sample()`. Remember, we should use `set.seed()` to make sure we can reproduce our results. First, let's do it once. We need to sample twice, and then use `sum()` to add up the sample values. The easiest way to do this is to *nest* the functions, with the one we want executed first on the inside. So we will nest `sample()` inside of `sum()`.


::: {.cell}

```{.r .cell-code  code-fold="false"}
set.seed(214)
die <- seq(from = 1, to = 6)
sum(sample(die, size = 2, replace = TRUE))
```

::: {.cell-output .cell-output-stdout}

```
[1] 7
```


:::
:::


Now I want to do this task 10 times. That is, each time I sample twice (to simulate rolling a pair of dice), and then sum the sample values. I should get 10 sums (so the numbers will be between $2$ and $12$).


::: {.cell}

```{.r .cell-code  code-fold="false"}
set.seed(214)
replicate(n=10, expr = sum(sample(die, size = 2, replace = TRUE)))
```

::: {.cell-output .cell-output-stdout}

```
 [1]  7 11  8  8 12  5  7  8  7 10
```


:::
:::

--><!---
We could replicate as many times as we like, so let's repeat the process 1000 times, and see how many of each value we get. We can use `count()` to tally the values, and then compute the proportions to compare the values with the true probability.


::: {.cell}

```{.r .cell-code  code-fold="false"}
set.seed(214)
x <- replicate(n=1000, expr = sum(sample(die, size = 2, replace = TRUE)))
x |> 
data.frame() |>
 mutate(sums = factor(x)) |>
  group_by(sums) |>
  summarise(prop = n()/1000) |> 
  mutate(true_prob = c(1,2,3,4,5,6,5,4,3,2,1)/36)
```

::: {.cell-output .cell-output-stdout}

```
# A tibble: 11 × 3
   sums   prop true_prob
   <fct> <dbl>     <dbl>
 1 2     0.034    0.0278
 2 3     0.048    0.0556
 3 4     0.07     0.0833
 4 5     0.108    0.111 
 5 6     0.144    0.139 
 6 7     0.194    0.167 
 7 8     0.128    0.139 
 8 9     0.112    0.111 
 9 10    0.09     0.0833
10 11    0.049    0.0556
11 12    0.023    0.0278
```


:::
:::

--></section><section id="geom_col-plotting-with-probability" class="level4"><h4 class="anchored" data-anchor-id="geom_col-plotting-with-probability">3. <code>geom_col()</code>: plotting with probability</h4>
<p>When plotting probability histograms, we know exactly what the the height of each bar should be. This is as opposed to the bar charts you have seen before (and empirical histograms), where we are just trying to visualize the data that we have collected.</p>
<p><code>geom_col()</code> creates a bar chart in which the heights represent numbers that can be specified via an aesthetic. In other words, the y variable <em>will</em> appear in our call to <code>aes()</code>!</p>
<!--
**Example: probability histogram for the Bernoulli($p=2/3$) distribution**

In order to use `ggplot()`, we need to make a data frame with the information about the probability distribution first.  


::: {.cell layout-align="center"}

```{.r .cell-code  code-fold="false"}
x <- c(0,1)
px <- c(1/3, 2/3)
bern_df <- data.frame(x = x, prob_x = px) 
```
:::



Once this is done, we can make our probability histogram. Note that since the bar chart is a categorical plot, we need to make the x variable be treated categorically; this can be done with `factor()`.  


::: {.cell layout-align="center"}

```{.r .cell-code  code-fold="false"}
bern_df |>
  ggplot(mapping = aes(x=factor(x), y=prob_x)) +
  geom_col() +
  labs(x="value",
       y = "probability",
       title = "The Bernoulli(2/3) distribution")
```

::: {.cell-output-display}
![](notes_files/figure-html/unnamed-chunk-12-1.png){fig-align='center' width=384}
:::
:::

-->
</section></section><section id="example-rolling-a-die-twice-and-summing-the-spots" class="level3"><h3 class="anchored" data-anchor-id="example-rolling-a-die-twice-and-summing-the-spots">Example: Rolling a die twice and summing the spots</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Code along
</div>
</div>
<div class="callout-body-container callout-body">
<p>As you read through the code in this section, keep RStudio open in another window to code along at the console. <strong>Keep in mind that we use <code><a href="https://rdrr.io/r/base/Random.html">set.seed()</a></code> more than once for demonstration purposes only.</strong></p>
</div>
</div>
<p>Suppose we want to simulate the task of rolling a pair of die and summing the two spots. We can accomplish this task and examine our results using the functions we have just introduced. First, we will make a vector representing a fair, six-sided die.</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">die</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">6</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="obtaining-a-sum" class="level4"><h4 class="anchored" data-anchor-id="obtaining-a-sum">Obtaining a sum</h4>
<section id="method-1---replicate" class="level5"><h5 class="anchored" data-anchor-id="method-1---replicate">Method 1 - <code>replicate()</code>
</h5>
<p>We can use the <code><a href="https://rdrr.io/r/base/sample.html">sample()</a></code> function to roll the die twice; this will output a vector with two die numbers. Then, we can take the sum of this vector by nesting the call to <code><a href="https://rdrr.io/r/base/sample.html">sample()</a></code> inside of sum.</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">214</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">die</span>, size <span class="op">=</span> <span class="fl">2</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<p>If we would like to repeat this action many times (for instance, in a game of Monopoly, each player has to roll two dice on their turn and sum the spots), the <code><a href="https://rdrr.io/r/base/lapply.html">replicate()</a></code> function will come in handy. In the following line of code, we obtain 10 sums.</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">replicate</a></span><span class="op">(</span>n<span class="op">=</span> <span class="fl">10</span>, expr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">die</span>, size <span class="op">=</span> <span class="fl">2</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 11  8  8 12  5  7  8  7 10  7</code></pre>
</div>
</div>
</section><section id="method-2---rep" class="level5"><h5 class="anchored" data-anchor-id="method-2---rep">Method 2 - <code>rep()</code>
</h5>
<p>We could also roll the die in advance and then sample from the possible sums: 2 through 12. However, when rolling the two die, there is only one way to get a sum of <span class="math inline">\(2\)</span> (both dice need to be one), but six ways to get a sum of <span class="math inline">\(7\)</span>. This shows that if we want to represent this action of rolling a pair of dice and taking the sum of spots, we have to use a box in which values will be repeated to reflect their probability. We can use the <code>times</code> argument of the <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code> function to make such a box. The number <span class="math inline">\(2\)</span> is repeated once, the number <span class="math inline">\(3\)</span> is repeated twice, and so on until the number <span class="math inline">\(7\)</span> is repeated six times. We can then sample once from this box.</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">possible_sums</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">2</span>, by <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span>
<span><span class="va">correct_sums</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">possible_sums</span>, </span>
<span>                    times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">correct_sums</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  2  3  3  4  4  4  5  5  5  5  6  6  6  6  6  7  7  7  7  7  7  8  8  8  8
[26]  8  9  9  9  9 10 10 10 11 11 12</code></pre>
</div>
</div>
<p>To get 10 sums as we did before, we just need to sample with ten times with replacement from this new box, <code>correct_sums</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">correct_sums</span>, size <span class="op">=</span> <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 7 4 8 9 2 7 4 7 6 8</code></pre>
</div>
</div>
</section></section></section><section id="visualizing-our-results" class="level3"><h3 class="anchored" data-anchor-id="visualizing-our-results">Visualizing our results</h3>
<section id="making-a-probability-histogram-with-geom_col" class="level4"><h4 class="anchored" data-anchor-id="making-a-probability-histogram-with-geom_col">Making a probability histogram with <code>geom_col()</code>
</h4>
<p>First, let’s create a vector with the probabilities associated with each possible that can be obtained from rolling two dice. We are taking these probabilities from the drawn probability histogram earlier in the notes.</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">prob_sums</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">5</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">/</span><span class="fl">36</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, using the above and the <code>possible_sums</code> vector from before, we can make a data frame with the information about the probability distribution and create a probability histogram, which in turn can be used to make a plot with <code>geom_col()</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">prob_hist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">possible_sums</span>, <span class="va">prob_sums</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">possible_sums</span><span class="op">)</span>,</span>
<span>                       y <span class="op">=</span> <span class="va">prob_sums</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"goldenrod"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"sum value"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"probability"</span><span class="op">)</span></span>
<span><span class="va">prob_hist</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="notes_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="384"></p>
</figure>
</div>
</div>
</div>
<p>The use of <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> is to make sure that for the purposes of the plot, that the sum values are treated categorically.</p>
</section><section id="performing-a-simulation-and-making-an-empirical-histogram" class="level4"><h4 class="anchored" data-anchor-id="performing-a-simulation-and-making-an-empirical-histogram">Performing a simulation and making an empirical histogram</h4>
<p>Let’s simulate rolling two die and and computing a sum fifty times Then, we can make a data frame out of our results and find the total amount of rolls, grouped by face. This can be done with the <code>n()</code> summary function– and if we divide by 50, we can get the sample proportions of each sum.</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">214</span><span class="op">)</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">replicate</a></span><span class="op">(</span>n<span class="op">=</span> <span class="fl">50</span>, </span>
<span>                     expr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">die</span>, size <span class="op">=</span> <span class="fl">2</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">empirical</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">results</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>props <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">/</span><span class="fl">50</span><span class="op">)</span></span>
<span><span class="va">empirical</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 2
   results props
     &lt;dbl&gt; &lt;dbl&gt;
 1       2  0.04
 2       3  0.02
 3       4  0.06
 4       5  0.1 
 5       6  0.08
 6       7  0.24
 7       8  0.1 
 8       9  0.12
 9      10  0.14
10      11  0.08
11      12  0.02</code></pre>
</div>
</div>
<p>Now, we can construct an empirical histogram using the <code>empirical</code> data frame.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">emp_50</span> <span class="op">&lt;-</span> <span class="va">empirical</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span>,</span>
<span>                       y <span class="op">=</span> <span class="va">props</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"sum value"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"sample proportion"</span><span class="op">)</span></span>
<span><span class="va">emp_50</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="notes_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="384"></p>
</figure>
</div>
</div>
</div>
</section><section id="comparing-our-results-to-the-truth" class="level4"><h4 class="anchored" data-anchor-id="comparing-our-results-to-the-truth">Comparing our results to the truth</h4>
<p>You may have wondered why we bothered to save the plot objects. The reason is that we can use a nifty <a href="https://patchwork.data-imaginist.com/articles/patchwork.html">library called <code>patchwork</code></a> which will help us to more easily visualize multiple plots at once by using mathematical and logical syntax. For instance, using <code>+</code> will put plots side by side.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com">patchwork</a></span><span class="op">)</span></span>
<span><span class="va">prob_hist</span> <span class="op">+</span> <span class="va">emp_50</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="notes_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>With only 50 experiments run, we see that the empirical histogram doesn’t quite match. However, modify the above code by increasing the number of repetitions, and you will see the empirical histogram begin to resemble more closely true probability distribution. This is an example of <strong>long-run relative frequency.</strong></p>
<!---
Rolling only 6 times, we don't really expect to see each face exactly once, and as you can see below, in this particular instance of rolling the die six times, we didn't see the face with one spot, but saw two spots twice. 


What about if we roll the die 60 times? We should see each face *about* ten times:


::: {.cell}
::: {.cell-output .cell-output-stdout}

```
# A tibble: 6 × 2
  die_rolls     n
      <dbl> <int>
1         1    10
2         2    11
3         3    13
4         4    10
5         5     6
6         6    10
```


:::
:::


Not so great, but let's try rolling the die 600 times:

::: {.cell}
::: {.cell-output .cell-output-stdout}

```
# A tibble: 6 × 2
  die_rolls     n
      <dbl> <int>
1         1   114
2         2   112
3         3   101
4         4    95
5         5    98
6         6    80
```


:::
:::

--->
<!---

#### Visualizing empirical histograms

We can also visualize the results of this code. As we have been doing, we will draw the *probability* distribution in gold, which shows the probabilities of each possible outcome (the probability distribution), and compare it to the *empirical* distributions in blue (plotting the *data* distribution, not the probability distribution) of the results of rolling the die $60, 600$, and $6000$ times. Note that the probability distribution is *theoretical*, where the area of the bars represent probabilities, and the total area of the bars is $1$. 

Note: in the code below, in order to display all 4 histograms in a single plot we are using a package called `patchwork`. We save each plot as `p1`, `p2` etc, and then put them all together in the configuration we want. The code below seems long, but it is really repeating the same code for $60$ rolls, and then for $600$ rolls etc.



::: {.cell layout-align="center"}

```{.r .cell-code}
prob_die <- rep(1/6, 6)
set.seed(12345)

p1 <- data.frame(die) |> 
  ggplot(aes(x = factor(die), y=prob_die)) +
  geom_col(width = 0.98, fill = "goldenrod2") +
  xlab("number of spots") +
  ylab("probability") +
  ggtitle("Probability distribution of the \n outcome of a die roll") +
  lims(y = c(0, .35))

roll_60 <- sample(die, 60, replace = TRUE)
roll_60 <- data.frame(table(roll_60)) |> 
  mutate(prop_rolls = Freq/60)


p2 <- roll_60 |>
  ggplot(aes(x = factor(die), y= prop_rolls)) +
  geom_col(width = 0.98, fill = "blue") +
  xlab("number of spots") +
  ylab("proportion of rolls") +
  ggtitle("Empirical distribution for \n 60 rolls") +
  lims(y = c(0, .35))


roll_600 <- sample(die, 600, replace = TRUE)

roll_600 <- data.frame(table(roll_600)) |>
    mutate(prop_rolls = Freq/600)

p3 <- roll_600 |>
  ggplot(aes(x = factor(die), y= prop_rolls)) +
  geom_col(width = 0.98, fill = "blue") +
  xlab("number of spots") +
  ylab("proportion of rolls") +
  ggtitle("Empirical distribution for \n 600 rolls") +
  lims(y = c(0, .35))
  

roll_6000 <- sample(die, 6000, replace = TRUE)

roll_6000 <- data.frame(table(roll_6000)) |>
    mutate(prop_rolls = Freq/6000)


p4 <- data.frame(roll_6000) |>
  ggplot(aes(x = factor(die), y=prop_rolls)) +
  geom_col(width = 0.98, fill = "blue") +
  xlab("number of spots") +
  ylab("proportion of rolls") +
  ggtitle("Empirical distribution for \n 6000 rolls") +
  lims(y = c(0, .35))

(p1 + p2)/(p3+p4)
```

::: {.cell-output-display}
![](notes_files/figure-html/unnamed-chunk-26-1.png){fig-align='center' width=576}
:::
:::



The important takeaway here is that we have a *theoretical* probability distribution of the outcomes, and we have what actually happens when we perform the experiment over and over. Eventually, the empirical distribution begins to look like the theoretical distribution. 



::: {.cell}

```{.r .cell-code  code-fold="false"}
set.seed(12345)
box <- c(1, 2, 2, 3, 4)
sample(box,1)
```

::: {.cell-output .cell-output-stdout}

```
[1] 2
```


:::
:::


We can use `sample()` to *estimate* the chance of a particular outcome  when we aren't sure of what that chance might be. We would do this by repeatedly sampling from the "box" with replacement (many times), then computing the proportion of times we drew each ticket. For example, say we consider our first example (the simple box with tickets ), and want to estimate the chance of each ticket.

In the code below, we use `sample()` along with the new function introduced earlier: `replicate()`. Also note that `geom_bar()` is set to display proportions rather than counts.


::: {.cell layout-align="center"}

```{.r .cell-code  code-fold="false"}
set.seed(12345)
box <- c(1, 2, 2, 3, 4)
draws <- replicate(2000, sample(box, 1, replace = TRUE))
ggplot(data.frame(draws), aes(x=draws)) + 
  geom_bar(aes(y=after_stat(prop)), fill="blue", width = 0.98) + 
  ylab("proportion of draws") + 
  xlab("ticket drawn")
```

::: {.cell-output-display}
![](notes_files/figure-html/unnamed-chunk-28-1.png){fig-align='center' width=384}
:::
:::


We see that the *estimated* chance of drawing a $\fbox{2}$ is about 0.4, and this is about twice the estimated chance of drawing any other ticket. Of course, we knew this already, without needing to code it in R. Let's think of a more complicated situation: 

What if we wanted to wanted to draw _five_ tickets with replacement from this box, and sum the draws? What would be the possible values that we would get? What could their chances be? We can visualize this in R by simulating drawing five tickets from the box, with replacement, replicating this process many times, and then plotting the empirical histogram:


:::{.content-visible when-format="html"}

::: {.cell layout-align="center"}

```{.r .cell-code}
box <- c(1, 2, 2, 3, 4)
draws <- replicate(5000, sum(sample(box, size = 5, replace = TRUE)))
ggplot(data.frame(draws), aes(x=draws)) + 
  geom_bar(aes(y=..prop..), fill="blue", width = 0.98) + 
  ylab("proportion") + 
  xlab("sum of draws") + 
  scale_x_continuous(breaks = seq(min(draws), max(draws), by = 1))
```

::: {.cell-output-display}
![](notes_files/figure-html/unnamed-chunk-29-1.png){fig-align='center' width=384}
:::
:::

:::

:::{.content-hidden when-format="html"}

::: {.cell layout-align="center"}
::: {.cell-output-display}
![](notes_files/figure-html/unnamed-chunk-30-1.png){fig-align='center' width=384}
:::
:::

:::

We can see that there is a lot more variation in the values taken by the sum of 5 draws.


#### Tossing a fair coin

We can estimate the chances of various outcomes related to coin tossing, using sampling from a box. 

Suppose, for example, that we would like to figure out the chance of exactly 2 heads if we toss a coin 4 times. Think about how you would use the functions `sample()` and `replicate()` to model this, using the 0-1 box we defined earlier, for tossing a coin.


::: {.cell}

```{.r .cell-code}
coin <- c(0, 1) 
x  <- replicate(50000, sum(sample(coin, 4, replace = TRUE)))
x |>
  data.frame() |> 
  mutate(two_heads = x==2) |> #create a column that is TRUE if the 4 tosses had 2 H
  summarise(prop_two_heads = mean(two_heads))
```

::: {.cell-output .cell-output-stdout}

```
  prop_two_heads
1        0.37576
```


:::
:::



#### Empirical histogram for rolling a pair of dice and summing the spots

We have seen the probability histogram for rolling a pair of dice and summing the spots. Now let's use `replicate()` to simulate this action and see if the histogram looks like what we drew.


::: {.cell layout-align="center"}

```{.r .cell-code}
sum_spots <- replicate(5000, sum(sample(die, size = 2, replace = TRUE)))
sum_spots |>
  data.frame() |>
  ggplot(aes(x=sum_spots)) + 
  geom_bar(aes(y = after_stat(prop)), fill="blue", width = 0.98) + 
  ylab("proportion") + 
  xlab("sum of two draws") +
  scale_x_continuous(breaks = seq(min(sum_spots), max(sum_spots), by = 1))
```

::: {.cell-output-display}
![](notes_files/figure-html/unnamed-chunk-32-1.png){fig-align='center' width=384}
:::
:::



<!--## Simulating De Méré's dice games

You can run the simulations yourself using the code below. Copy and paste it into RStudio and play around with it.

First, lets recall the two vectors we defined that represent the outcome spaces of rolling a die once and rolling a pair of dice once and summing the spots, respectively. 


::: {.cell}

```{.r .cell-code  code-fold="false"}
die <- seq(from = 1, to = 6)

sum_dice <- seq(from = 2, by = 1, to = 12)

#now with correct frequencies

sum_dice <- rep(sum_dice, 
                  times = c(1,2, 3, 4, 5, 6, 5, 4, 3, 2, 1))
```
:::


Now let's set up the first game, and repeat it 1000 times. You can change the number of simulations below.


::: {.cell}

```{.r .cell-code  code-fold="false"}
##### de mere first game ############

set.seed(123123) 
# This ensures that each time we run this code, we will get the same results.

num_simulations <- 1000 
# specifying the number of simulations, or the number of times we will play

# now we will play the game of rolling the die 4 times num_simulations times
die_4 <- replicate(num_simulations, sample(die, 4, replace = TRUE)) 

# the results of play are saved as a numerical array (a matrix), not a data frame
# so we save it as a data frame, and transpose the rows and columns so each row is the 
# result of one game
die_4_df <- data.frame(t(die_4))

# the next two lines of code are to make our data frame look better
# and you can ignore them

colnames(die_4_df) <- paste("roll", sep = " ", 1:4) 

rownames(die_4_df) <- paste("simulation", sep = " ", 1:num_simulations)

# let's take a look at our data frame
head(die_4_df)
```

::: {.cell-output .cell-output-stdout}

```
             roll 1 roll 2 roll 3 roll 4
simulation 1      3      4      3      1
simulation 2      5      4      6      3
simulation 3      1      3      5      5
simulation 4      3      4      6      5
simulation 5      1      6      5      2
simulation 6      1      2      3      6
```


:::

```{.r .cell-code  code-fold="false"}
# we will create a new column that checks, for each play (each row), if there is at least 
# one 6. What will be the values in this column? Break the pipe and check!
# Finally, we will compute the proportion of plays in which at least one 6 was rolled.
die_4_df |> 
  mutate(at_least_one_six = if_any(everything(), ~ . == 6)) |>
  summarise(prop_wins = mean(at_least_one_six))
```

::: {.cell-output .cell-output-stdout}

```
  prop_wins
1     0.512
```


:::
:::


Let's repeat the simulation for the second game, in which we roll a pair of dice 24 times and record a win if at least one double six is rolled. 

Note that the number of simulations is defined above.


::: {.cell}

```{.r .cell-code  code-fold="false"}
set.seed(123123)

######## de mere second game  ############

# define the outcome space from rolling a pair of dice listing all the outcomes, repeated
# the number of ways that can occur. For example we can get 3 by rolling a 2, 1 or a 1, 2
# note that we can get 12 in exactly 1 way, by rolling a double six.


pair_dice <- c( 2, 3, 3, rep(4,3), rep(5,4), rep(6, 5), rep(7,6), 
                rep(8,5), rep(9,4), rep(10,3), rep(11,2), 12)

## note, not ideal because if see 7 don't know how we got it

# play the game on repeat
dice_24 <- replicate(num_simulations, sample(pair_dice, 24, replace = TRUE) )

# make a data frame
dice_24_df <-  data.frame(t(dice_24)) 

# make the data frame easier to read
colnames(dice_24_df) <- paste("roll", sep = " ", 1:24)
rownames(dice_24_df) <- paste("simulation", sep = " ", 1:num_simulations)


#head(dice_24_df)

dice_24_df |> 
  mutate(at_least_one_boxcars = if_any(everything(), ~ . == 12)) |>
  summarise(prop_wins_game_2 = mean(at_least_one_boxcars))
```

::: {.cell-output .cell-output-stdout}

```
  prop_wins_game_2
1            0.478
```


:::
:::

-->
</section></section></section><section id="summary" class="level2"><h2 class="anchored" data-anchor-id="summary">Summary</h2>
<ul>
<li>Defined probability distributions</li>
<li>Stated the basic counting principle and introduced permutations and combinations</li>
<li>Defined some famous named distributions (Bernoulli, discrete uniform, binomial, hypergeometric)</li>
<li>Visualized probability distributions using probability histograms</li>
<li>Looked at the relationship between empirical histograms and probability histograms.</li>
<li>Introduced functions <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code>, <code><a href="https://rdrr.io/r/base/lapply.html">replicate()</a></code>, <code>geom_col()</code>
</li>
<li>Simulated random experiments such as die rolls and coin tosses to visualize the distributions.</li>
</ul>


</section><div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>
<ol>
<li id="fn1"><p>Penguin taken from art by @allison_horst<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item">
    <a class="nav-link" href="../../license.html">
<p>License</p>
</a>
  </li>  
</ul>
</div>
  </div>
</footer>


</body></html>